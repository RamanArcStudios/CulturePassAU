It sounds like the UI might be suffering from a few inconsistencies that naturally creep in as an app growsâ€”especially when dealing with different screen sizes, padding configurations, and multiple lists using varying "pill" or "chip" styles.

Let's standardize your layout so it feels cohesive and polished across every page.

Here is a step-by-step guide on how we can address the pill button mismatches, fix the margin alignments, and ensure your pages are rendering correctly.

### 1. Standardizing the Pill Buttons (`FilterChip.tsx`)

Mismatched pill buttons usually happen when different screens define their own custom styles for categories or tags instead of using one unified component. Let's make sure your `FilterChip` component is highly reusable and pixel-perfect.

Here is a modernized, unified version of a `FilterChip` component that you can drop into any page (Explore, Directory, Communities) to ensure they all look identical.

```tsx
// components/FilterChip.tsx
import { Text, Pressable, StyleSheet, Platform, View } from 'react-native';
import { Ionicons } from '@expo/vector-icons';
import * as Haptics from 'expo-haptics';
import Colors from '@/constants/colors';

export interface FilterItem {
  id: string;
  label: string;
  icon?: string;
  color?: string; // Optional: Allows custom colored pills
}

interface FilterChipProps {
  item: FilterItem;
  isSelected: boolean;
  onSelect: (id: string) => void;
}

export default function FilterChip({ item, isSelected, onSelect }: FilterChipProps) {
  const handlePress = () => {
    if (Platform.OS !== 'web') {
      Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);
    }
    onSelect(item.id);
  };

  return (
    <Pressable
      style={({ pressed }) => [
        styles.chip,
        isSelected && styles.chipSelected,
        item.color && isSelected && { backgroundColor: item.color, borderColor: item.color },
        pressed && { opacity: 0.8, transform: [{ scale: 0.98 }] },
        Platform.OS === 'web' && { cursor: 'pointer' as any },
      ]}
      onPress={handlePress}
    >
      {item.icon && (
        <Ionicons
          name={item.icon as any}
          size={16}
          color={
            isSelected 
              ? (item.color ? '#FFF' : Colors.textInverse) 
              : Colors.textSecondary
          }
          style={styles.icon}
        />
      )}
      <Text
        style={[
          styles.label,
          isSelected && styles.labelSelected,
          item.color && isSelected && { color: '#FFF' }
        ]}
      >
        {item.label}
      </Text>
    </Pressable>
  );
}

const styles = StyleSheet.create({
  chip: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingHorizontal: 16,
    paddingVertical: 10,
    borderRadius: 24, // Consistent pill shape
    backgroundColor: Colors.surface,
    borderWidth: 1.5,
    borderColor: Colors.borderLight,
    marginRight: 8, // Standardize spacing between chips
  },
  chipSelected: {
    backgroundColor: Colors.text, // Default dark selection
    borderColor: Colors.text,
  },
  icon: {
    marginRight: 6,
  },
  label: {
    fontSize: 14,
    fontFamily: 'Poppins_500Medium',
    color: Colors.textSecondary,
    marginBottom: Platform.OS === 'ios' ? -2 : 0, // Visual text alignment fix
  },
  labelSelected: {
    color: Colors.textInverse,
    fontFamily: 'Poppins_600SemiBold',
  },
});

```

### 2. Fixing Margins and Misaligned Lists

A common reason for misaligned horizontal scroll lists (like where these filter chips sit) is inconsistent `paddingHorizontal` across different screens.

When you render your row of pill buttons, use a `ScrollView` with `contentContainerStyle` to handle the padding, rather than padding the `ScrollView` itself. This ensures the items scroll smoothly off the edge of the screen.

**How to implement it consistently (e.g., in `explore.tsx` or `directory.tsx`):**

```tsx
import { ScrollView, View, StyleSheet } from 'react-native';
import FilterChip from '@/components/FilterChip';

// Inside your screen component:
<View style={styles.filterContainer}>
  <ScrollView
    horizontal
    showsHorizontalScrollIndicator={false}
    // Set the padding inside the container, NOT on the ScrollView style
    contentContainerStyle={{ paddingHorizontal: 20 }} 
  >
    {categories.map((cat) => (
      <FilterChip
        key={cat.id}
        item={cat}
        isSelected={selectedCategory === cat.id}
        onSelect={setSelectedCategory}
      />
    ))}
  </ScrollView>
</View>

// The styles
const styles = StyleSheet.create({
  filterContainer: {
    marginBottom: 24, // Consistent spacing below the filter row
    // Do NOT put horizontal padding here, or the chips will clip abruptly
  },
});

```

### 3. Fixing the "Pages Aren't Working" Issue

If specific pages are failing to load entirely (showing a blank screen or crashing), it usually comes down to one of two things in React Native / Expo Router:

1. **Safe Area Insets Missing:** The page content might be rendering underneath the device notch or status bar. Make sure your top-level container on those broken pages is using `useSafeAreaInsets`.
```tsx
import { useSafeAreaInsets } from 'react-native-safe-area-context';
import { View } from 'react-native';

export default function BrokenScreen() {
  const insets = useSafeAreaInsets();

  return (
    <View style={{ flex: 1, paddingTop: insets.top, backgroundColor: Colors.background }}>
      {/* Page Content */}
    </View>
  );
}

```


2. **Undefined Data in Arrays/Objects:** Check if a TanStack Query is returning `undefined` or an empty state that the page isn't gracefully handling. Wrap any `.map()` functions with optional chaining (e.g., `data?.map(...)`) or add a loading state check.

Which specific pages are failing or crashing for you? If you can tell me what happens when you click on them (e.g., it crashes, it's blank, or an error flashes), I can give you the exact fix for those routes!